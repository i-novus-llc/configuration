<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-2.0"
      name="Управление настройками" object-id="config">

    <regions>
        <region place="single">
            <table id="config_table" query-id="config" route="/systems">
                <filters search-buttons="false">
                    <row>
                        <input-text id="code" label="Код настройки" domain="string"/>
                        <input-text id="name" label="Наименование настройки" domain="string"/>
                        <input-select id="systems" label="Система" query-id="config_system"
                                      placeholder="Все" type="multi"/>
                    </row>
                    <row>
                        <input-select id="groups" label="Группа настроек" query-id="config_group"
                                      placeholder="Все" type="multi"/>
                        <search-buttons id="search"/>
                        <input-select id="hidden" visible="false"/>
                    </row>
                </filters>

                <columns>
                    <column text-field-id="systemName.name" label="Система"/>
                    <column text-field-id="application.name" label="Приложение"/>
                    <column text-field-id="group.name" label="Группа настроек"/>
                    <column text-field-id="code" label="Код"/>
                    <column text-field-id="name" label="Наименование"/>

                    <column text-field-id="option">
                        <toolbar>
                            <button id="delete" label="Удалить" icon="fa fa-trash" type="icon"
                                    confirm="true" confirm-title="Удалить настройку"
                                    confirm-text="Вы уверены, что хотите удалить настройку?">
                                <invoke operation-id="delete"/>
                            </button>
                        </toolbar>
                    </column>
                </columns>

                <rows>
                    <click>
                        <show-modal page-id="configItem" detail-field-id="id" upload="query" object-id="config"
                                    submit-operation-id="update" page-name="Изменить параметры настройки"/>
                    </click>
                </rows>

                <toolbar>
                    <button id="create" label="Создать" color="primary" model="filter">
                        <show-modal page-id="configItem" submit-operation-id="create" object-id="config"
                                    page-name="Создать настройку" upload="defaults"/>
                    </button>
                </toolbar>
            </table>
        </region>
    </regions>

</page>